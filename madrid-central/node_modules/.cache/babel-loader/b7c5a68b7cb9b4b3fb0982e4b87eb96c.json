{"ast":null,"code":"var _jsxFileName = \"/Users/Rodri/Desktop/MadridCentralApp/madrid-central/src/components/Guest.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ActualDay from './ActualDay';\nimport { drizzleConnect } from \"drizzle-react\";\nimport { Card, InputGroup, FormControl, Row, Col, Button } from \"react-bootstrap\";\n\nclass Guest extends React.Component {\n  constructor(props, context) {\n    super(props);\n    this.drizzle = context.drizzle;\n    this.state = {\n      dataKey: this.drizzle.contracts[\"MadridCentral\"].methods[\"getTodayAddress\"].cacheCall(),\n      dataKey2: this.drizzle.contracts[\"MadridCentral\"].methods[\"currentDay\"].cacheCall(),\n      matricula: \"\"\n    };\n  }\n\n  render() {\n    if (!(this.state.dataKey in this.props.MadridCentral.getTodayAddress)) {\n      return React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, \"Fetching...\");\n    }\n\n    var actualDayAddress = this.props.MadridCentral[\"getTodayAddress\"][this.state.dataKey].value;\n\n    if (!(this.state.dataKey2 in this.props.MadridCentral.currentDay)) {\n      return React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"Fetching...\");\n    }\n\n    var actualDay = this.props.MadridCentral[\"currentDay\"][this.state.dataKey2].value;\n\n    if (parseInt(actualDay) === 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), React.createElement(Card, {\n        style: {\n          width: '30rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Matr\\xEDcula\"), React.createElement(InputGroup, {\n        className: \"mb-3\",\n        onChange: evt => this.updateMatricula(evt),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        placeholder: \"Introduce tu matr\\xEDcula\",\n        \"aria-label\": \"Introduce tu matr\\xEDcula\",\n        \"aria-describedby\": \"basic-addon1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"buttonCenter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"dark\",\n        size: \"lg\",\n        type: \"submit\",\n        onClick: () => this.onClick(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Pedir invitaci\\xF3n\"))))));\n    }\n\n    return React.createElement(ActualDay, {\n      direccion: actualDayAddress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    });\n  }\n\n  updateMatricula(evt) {\n    this.setState({\n      matricula: evt.target.value\n    });\n  }\n\n  onClick() {\n    var timestamp = Math.floor(new Date().getTime() / (1000 * 60 * 60 * 24));\n    this.drizzle.contracts.MadridCentral.methods.getInvitation.cacheSend(timestamp, this.state.matricula, {\n      from: this.props.accounts[0]\n    });\n  }\n\n}\n\nGuest.contextTypes = {\n  drizzle: PropTypes.object\n};\n\nconst mapStateToProps = state => {\n  return {\n    MadridCentral: state.contracts.MadridCentral,\n    accounts: state.accounts\n  };\n};\n\nexport default drizzleConnect(Guest, mapStateToProps);","map":{"version":3,"sources":["/Users/Rodri/Desktop/MadridCentralApp/madrid-central/src/components/Guest.js"],"names":["React","PropTypes","ActualDay","drizzleConnect","Card","InputGroup","FormControl","Row","Col","Button","Guest","Component","constructor","props","context","drizzle","state","dataKey","contracts","methods","cacheCall","dataKey2","matricula","render","MadridCentral","getTodayAddress","actualDayAddress","value","currentDay","actualDay","parseInt","width","evt","updateMatricula","onClick","setState","target","timestamp","Math","floor","Date","getTime","getInvitation","cacheSend","from","accounts","contextTypes","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport ActualDay from './ActualDay';\nimport { drizzleConnect } from \"drizzle-react\";\nimport { Card, InputGroup, FormControl, Row, Col, Button } from \"react-bootstrap\";\n\nclass Guest extends React.Component {\n\n\tconstructor(props, context) {\n\t\tsuper(props);\n\t\tthis.drizzle = context.drizzle;\n\t\tthis.state = {\n      \t\tdataKey: this.drizzle.contracts[\"MadridCentral\"].methods[\"getTodayAddress\"].cacheCall(),\n      \t\tdataKey2: this.drizzle.contracts[\"MadridCentral\"].methods[\"currentDay\"].cacheCall(),\n      \t\tmatricula:\"\"\n    \t};\n\t}\n\n\trender() {\n\n\t\tif (!(this.state.dataKey in this.props.MadridCentral.getTodayAddress)) {\n\t      return <span>Fetching...</span>;\n\t    }\n\n\t\tvar actualDayAddress = this.props.MadridCentral[\"getTodayAddress\"][this.state.dataKey].value;\n\n\t\tif (!(this.state.dataKey2 in this.props.MadridCentral.currentDay)) {\n\t      return <span>Fetching...</span>;\n\t    }\n\n\t    var actualDay = this.props.MadridCentral[\"currentDay\"][this.state.dataKey2].value;\n\n\t\tif (parseInt(actualDay) === 0) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<br></br>\n\t\t\t\t\t<Card style={{ width: '30rem'}}>\n\t\t\t\t\t\t<label>Matrícula</label>\n\t\t\t\t\t\t<InputGroup className=\"mb-3\" onChange={evt => this.updateMatricula(evt)}>\n\t\t    \t\t\t\t<FormControl\n\t\t      \t\t\t\t\tplaceholder=\"Introduce tu matrícula\"\n\t\t      \t\t\t\t\taria-label=\"Introduce tu matrícula\"\n\t\t      \t\t\t\t\taria-describedby=\"basic-addon1\"\n\t\t    \t\t\t\t/>\n\t\t  \t\t\t\t</InputGroup>\n\t\t  \t\t\t\t<Row>\n\t\t  \t\t\t\t\t<Col>\n\t\t\t  \t\t\t\t\t<div className=\"buttonCenter\">\n\t\t\t  \t\t\t\t\t\t<Button variant=\"dark\" size=\"lg\" type=\"submit\" onClick={() => this.onClick()}>\n\t\t\t\t\t\t\t\t\t\tPedir invitación\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t</Col>\n\t  \t\t\t\t\t</Row>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<ActualDay direccion={actualDayAddress} />\n\t\t);\n\t}\n\n\tupdateMatricula(evt) {\n\t\tthis.setState({\n\t      matricula: evt.target.value\n\t    });\n\t}\n\n\tonClick() {\n\t\tvar timestamp = Math.floor(new Date().getTime() / (1000 * 60 * 60 * 24));\n\t\tthis.drizzle.contracts.MadridCentral.methods.getInvitation.cacheSend(timestamp, this.state.matricula, {from: this.props.accounts[0]});\n\t}\n}\n\nGuest.contextTypes = {\n  drizzle: PropTypes.object,\n};\n\nconst mapStateToProps = state => {\n  return {\n    MadridCentral: state.contracts.MadridCentral,\n    accounts: state.accounts\n  };\n};\n\nexport default drizzleConnect(Guest, mapStateToProps);"]},"metadata":{},"sourceType":"module"}